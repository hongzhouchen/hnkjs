<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>

<%@include file="public/indexTop.jsp"%>


<html>
<head>
 <link rel="stylesheet" href="<%=basePath%>/css/index.css" />
</head>
<body>
	
	<!--mobile menu-->

	<!--banner-->
	<div id="carousel-example-generic" class="carousel slide hidden-xs"
		data-ride="carousel">
		<!-- Indicators -->
		<ol class="carousel-indicators">
			<li data-target="#carousel-example-generic" data-slide-to="0"
				class="active"></li>
			<li data-target="#carousel-example-generic" data-slide-to="2"></li>
		</ol>
		<!-- Wrapper for slides -->
		<div class="carousel-inner" role="listbox">
			<div class="item active">
				<img src="img/banner/banner1.jpg" alt="First slide" height="361px" width="100%">
				<div class="carousel-caption"></div>
			</div>
			<div class="item">
				<img src="img/banner/banner3.jpg" alt="two slide" height="361px"
					width="100%">
				<div class="carousel-caption"></div>
			</div>
		</div>
		<!-- Controls -->
		<a class="left carousel-control" href="#carousel-example-generic"
			role="button" data-slide="prev"> <span
			class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span
			class="sr-only">Previous</span>
		</a> <a class="right carousel-control" href="#carousel-example-generic"
			role="button" data-slide="next"> <span
			class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
		</a>
	</div>

	<!--module -->
	<div class="row-one hidden-xs hidden-sm">
		<div class="container">
			<div class="row">
				<div class="col-lg-12"
					style="padding-left: 5px; padding-right: 5px;">
					<div class=" row-one-box">
						<div id="gg">
							公告:&nbsp;<img src="img/icon/gg.png" />
						</div>
						<ul id="gg-content">
							<li><a href="/">【新闻】关于南京富之汇电子1</a></li>
							<li><a href="/">【新闻】人生若只如初见</a></li>
							<li><a href="/">【新闻】你在逗我笑吗</a></li>
							<li><a href="/">【新闻】SB吗</a></li>
						</ul>
					</div>
				</div>
			</div>

		</div>
	</div>

	<div class="row-two">
		<div class="container">
			<div class="row">
				<div class="col-sm-4">
					<div class="row-tow-box">
						<div id="carousel-example-generic" class="carousel slide "
							data-ride="carousel">
							<!-- Wrapper for slides -->
							<div class="carousel-inner" role="listbox">
								<div class="item active">
									<img src="img/00.jpg" alt="First slide" width="100%">
									<div class="tipline">上交所理事长吴清当选世界交易所联合会主席</div>
								</div>
								<div class="item">
									<img src="img/00.jpg" alt="third slide" width="100%">
									<div class="tipline">上交所理事长吴清当选世界交易所联合会主席</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="row-tow-box">
						<div class="sse_list_tit1">
							<h2>
								<span>中心动态</span> <a href="/" style="float: right;"><img
									src="img/icon/more.png" /></a>
							</h2>
						</div>
						<div class="sse_list_content">
							<ul>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
							</ul>
						</div>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="row-tow-box">
						<div class="sse_list_tit1">
							<h2>
								<span>行情分析</span> <a href="/" style="float: right;"><img
									src="img/icon/more.png" /></a>
							</h2>
						</div>
						<div class="sse_list_content">
							<ul>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
							</ul>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>

	<div class="row-three">
		<div class="container">
			<div class="row">
				<div class="col-sm-8">
					<div class="row-three-box">
						<div class="sse_list_tit1">
							<h2>
								<span>新闻公告</span> <a href="/" style="float: right;"><img
									src="img/icon/more.png" /></a>
							</h2>
						</div>
						<div class="sse_list_content">
							<ul>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升
										稳中向好格局沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升
										稳中向好格局沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升
										稳中向好格局沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升
										稳中向好格局沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升
										稳中向好格局沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升
										稳中向好格局沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升
										稳中向好格局沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升
										稳中向好格局沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
								<li class="list"><a href="/">沪市公司三季度业绩内在质量提升
										稳中向好格局沪市公司三季度业绩内在质量提升 稳中向好格局...</a><span>2017-11-30</span></li>
							</ul>
						</div>

					</div>
				</div>

				<div class="col-sm-4">
					<div class="row-three-box">
						<img style="margin-bottom: 10px;" width="100%"
							src="http://www.sse.com.cn/home/subgroup/pic-switch/a/20170526/45a894ebe03e39c1bc85067ef45c2c97.jpg" />
						<div class="sse_list_tit1">
							<h2>
								<span>快速导航</span>
							</h2>
						</div>
						<div class="sse_list_content">
							<div class="col-sm-6 col-xs-6">
								<div class="ks-txt">
									<img src="img/icon/lxw.png"> 联系我们
								</div>
							</div>
							<div class="col-sm-6 col-xs-6">
								<div class="ks-txt">
									<img src="img/icon/lxw.png">法律法规
								</div>
							</div>
							<div class="col-sm-6 col-xs-6">
								<div class="ks-txt">
									<img src="img/icon/lxw.png">帮助文档
								</div>
							</div>
							<div class="col-sm-6 col-xs-6">
								<div class="ks-txt">
									<img src="img/icon/yjfk.png">意见反馈
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>

		</div>
	</div>

	<div class="row-four">
		<!-- 上海黄金交易所数据 -->
		<div class="container">
			<div class="row">
				<div class="col-sm-8">
					<div class="row-four-box">
						<div class="sse_list_tit1">
							<h2>
								<span>行情数据</span> <a href="/" style="float: right;"><img
									src="img/icon/more.png" /></a>
							</h2>
						</div>
						<div id="content_box" class="itemList marketData">
							<input type="hidden" id="instid" value="Au99.99">
							<table width="100%" cellspacing="0" cellpadding="0" border="0">
								<tbody>
									<tr class="bt current" style="border: none">
										<td width="85" height="40">合约</td>
										<td width="85">开盘价</td>
										<td width="85">收盘价</td>
										<td width="85">最高价</td>
										<td width="85">最低价</td>
									</tr>
									<tr>
									</tr>
								</tbody>
							</table>
							<div id="examples">
								<div id="content-1" class="content">
									<div id="table"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="row-four-box">
						<div class="sse_list_tit1">
							<h2>
								<span>行情走势&nbsp;(<span id="hyhy" style="color: #d7af4f">--</span>)
								</span> <a href="/" style="float: right;"><img
									src="img/icon/more.png" /></a>
							</h2>
						</div>

						<div class="marketTrend">
							<div class="dataStadus" style="height: 273px">
								<div id="container"
									style="height: 100%; -webkit-tap-highlight-color: transparent; -webkit-user-select: none; background: transparent;"
									_echarts_instance_="ec_1500514581246">
									<div id="echart">
										<canvas width="489" height="273" data-zr-dom-id="zr_0"
											id="echartcanvas"></canvas>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<%@include file="public/footer.jsp"%>
	<script>
		(function($) {
			/**
			 * 返回指定format的string
			 * format eg:'yyyy-MM-dd hh:mm:ss'
			 **/
			Date.prototype.format = function(format) {
				var o = {
					"M+" : this.getMonth() + 1,
					"d+" : this.getDate(),
					"h+" : this.getHours(),
					"m+" : this.getMinutes(),
					"s+" : this.getSeconds(),
					"q+" : Math.floor((this.getMonth() + 3) / 3),
					"S" : this.getMilliseconds()
				}
				if (/(y+)/.test(format)) {
					format = format.replace(RegExp.$1,
							(this.getFullYear() + "")
									.substr(4 - RegExp.$1.length));
				}
				for ( var k in o) {
					if (new RegExp("(" + k + ")").test(format)) {
						format = format.replace(RegExp.$1,
								RegExp.$1.length == 1 ? o[k] : ("00" + o[k])
										.substr(("" + o[k]).length));
					}
				}
				return format;
			}

			$(window)
					.on(
							"load",
							function() {
								$("#content-1").mCustomScrollbar({
									theme : "minimal"
								});

								function hqinfo() {
									$("#table")
											.load(
													"shsj.do",
													function(response, status,
															xhr) {
														$(".marketData tr")
																.each(
																		function() {
																			if ($(
																					this)
																					.find(
																							".instid")
																					.text() == $(
																					"#instid")
																					.val()) {
																				$(
																						this)
																						.addClass(
																								"current");
																			}
																		});
														if ($("#instid").val() == "") {
															$("#instid")
																	.val(
																			$(
																					"#myinstid")
																					.text());
														}
														$("#content_box tr")
																.click(
																		function() {
																			$(
																					".marketData tr")
																					.removeClass(
																							"current");
																			$(
																					this)
																					.addClass(
																							"current");
																			$(
																					"#instid")
																					.val(
																							($(
																									this)
																									.find(
																											".insid")
																									.text()));
																			hqinfogr();
																		});
													});
								}

								hqinfo();
								var t1 = window.setInterval(hqinfo, 60000);
								var dom = document.getElementById("container");
								var myChart = echarts.init(dom);
								var app = {};
								var times;
								var datas;
								var min;
								var dtime;
								var hyhy;
								$.ajax({
									type : 'post',
									url : 'quotations.do',
									async : false,
									dataType : "json",
									success : function(data) {
										times = data.times;
										datas = data.data;
										min = data.min;
										dtime = data.delaystr;
										/* console.log(data.delaystr);
										dtime=new Date().format('yyyy-MM-dd');    // echo: '2015-12-01'  */
										hyhy = data.heyue;
									},
								});
								$("#delaystr").text(dtime);
								$("#hyhy").text(hyhy);
								option = {
									xAxis : {
										type : 'category',
										boundaryGap : false,
										interval : 0,
										data : times,
										axisLabel : {
											formatter : function(value, index) {
												if (value == "20:00"
														|| value == "02:30"
														|| value == "11:30") {
													return value;
												} else {
													return "";
												}
											},
											interval : 0
										},
										axisTick : {
											show : false,
										}
									},
									yAxis : {
										boundaryGap : [ 0, '50%' ],
										type : 'value',
										min : min
									},
									series : [ {
										name : '成交',
										type : 'line',
										smooth : true,
										symbol : 'none',
										stack : 'a',
										itemStyle : {
											normal : {
												color : 'rgb(19,130,196)'
											}
										},
										areaStyle : {
											normal : {
												color : 'rgb(19,130,196)'
											}
										},
										data : datas
									} ],
									grid : {
										show : true,
										top : 20,
										bottom : 20
									}
								};
								if (option && typeof option === "object") {
									myChart.setOption(option, true);
								}

								app.timeTicket = setInterval(hqinfogr, 60000);

								function hqinfogr() {
									var instid = $("#instid").val();
									instid = instid.replace(/\+/g, "%2B");
									instid = instid.replace(/\&/g, "%26");
									$
											.ajax({
												type : "post",
												url : "echartQuotations.do",
												data : {
													"instid" : instid
												},
												scriptCharset : 'utf-8',
												contentType : "application/x-www-form-urlencoded; charset=utf-8",
												success : function(data2) {
													var data = eval('(' + data2
															+ ')');
													/* 	$("#delaystr").text(data.delaystr); */
													$("#delaystr").text(
															data.delaystr);
													$("#hyhy").text(data.heyue);
													myChart
															.setOption({
																xAxis : {
																	data : data.delaystr
																// echo: '2015-12-01'
																},
																yAxis : {
																	min : data.min
																},
																series : [ {
																	name : '成交',
																	data : data.data
																} ]
															});
												}
											});
								}

								function stop() {
									window.clearInterval(app.timeTicket)
								}

								function getTrueTime(timeStr) {
									var str = "2017骞�7鏈�7鏃�10:20:42";
									str = str.replace(/\+/g, "%2B");
								}
							});
		})(jQuery);
	</script>
</body>
</html>
